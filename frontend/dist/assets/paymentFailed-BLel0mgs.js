import"./modulepreload-polyfill-B5Qt9EMX.js";const d=Stripe(window.STRIPE_PK||"");function m(t,s="USD",u=navigator.language){return new Intl.NumberFormat(u,{style:"currency",currency:s}).format(t/100)}const e=new URLSearchParams(location.search),o=e.get("booking_id"),n=e.get("amount"),i=(e.get("currency")||"USD").toUpperCase(),r=e.get("reason"),c=e.get("code"),a=e.get("payment_intent_client_secret");o&&(document.getElementById("bookingId").textContent=o);n&&(document.getElementById("amount").textContent=m(parseInt(n,10),i));document.getElementById("currency").textContent=i;r&&(document.getElementById("reason").textContent=r.replaceAll("_"," "));c&&(document.getElementById("errorCode").textContent=c);(async()=>{if(!a)return;const{paymentIntent:t}=await d.retrievePaymentIntent(a);t&&(document.getElementById("piStatus").textContent=t.status,n||(document.getElementById("amount").textContent=m(t.amount,t.currency.toUpperCase()),document.getElementById("currency").textContent=t.currency.toUpperCase()))})();document.getElementById("retryBtn").addEventListener("click",()=>{location.assign("/#booking")});
